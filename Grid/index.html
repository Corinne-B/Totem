  <html>
  <head>
    <meta charset="utf-8">
    <title>Totems</title>
    <link rel='stylesheet prefetch' href='js/jquery-ui.css'>
    <link rel = "stylesheet" type="text/css" href="style/style.css">
  </head>
  <body>
   <main id = "main">
<!--    <div id ="check" style = "width:80px; height:80px; backgroundColor:blue;" ></div> -->

    <h1>La fabrique d'objets libres</h1>
    
    <div id = "targetJoy"></div>
    
    <section class='box container'>
      <div class='header'>
        <h2>Hope & Bike</h2>
      </div>
      <div class='content'>
       <div>
        <h3>Machine</h3>
        <p>Matériau 1</p>
      </div>
    </div>
  </section>
  <footer id = "footer">
  </footer> 

  <script src="/socket.io/socket.io.js"></script>
  <script src='js/jquery.min.js'></script>
  <script src='js/jquery-ui.min.js'></script>
  <script src="js/TweenMax.js"></script>
  <script src="js/totem.js"></script> <!--JS qui génére le signe-->
  <script src='js/content.js'></script>
  <script type="text/javascript">

/*  document.getElementById('check').addEventListener("click", function(){
    document.body.style.backgroundImage = "url('')";
    console.log("j'ai cliqué en haut à gauche");
  });*/

  $(function () {
    var socket = io();
    var speedScroll = 150;

    $('form').submit(function(){
      socket.emit('chat message', $('#m').val());
      $('#m').val('');
      return false;
    });



    var arrayEcoute = ["pin2 : down", "pin3 : down", "pin4 : down", "pin5 : down"];

      //Scroll vers le bas
      socket.on("pin2 : hold", function(button){
      //window.scrollTo( document.body.scrollLeft, document.body.scrollTop + speedScroll );
          //$('html, body').animate({scrollTop:1200},'50');
          TweenMax.to(document.body, 1, {
            scrollTop : document.body.scrollTop + speedScroll,
            ease : Linear.None
          })
        });

    //Scroll vers le haut
    socket.on("pin4 : hold", function(button){
      //window.scrollTo( document.body.scrollLeft, document.body.scrollTop - speedScroll );
      TweenMax.to(document.body, 1, {
        scrollTop : document.body.scrollTop - speedScroll,
        ease : Linear.None
      })
    });

    //Scroll vers la droite
    socket.on("pin5 : hold", function(button){
      //window.scrollTo( document.body.scrollLeft + speedScroll, document.body.scrollTop );
      TweenMax.to(document.body, 1, {
        scrollLeft : document.body.scrollLeft + speedScroll,
        ease : Linear.None
      })
    });
    //Scroll vers la gauche
    socket.on("pin3 : hold", function(button){
      //window.scrollTo( document.body.scrollLeft -speedScroll , document.body.scrollTop );
      TweenMax.to(document.body, 1, {
        scrollLeft : document.body.scrollLeft - speedScroll,
        ease : Linear.None
      })
    });
  });
  //////////////////////////////Set Deposer totem/////////////////////////////////////
  var divMouseDownTimeout;
  var isMouseHeld = false;
  var socket = io();
  var sizeScreenX = 1536;
  var sizeScreenY = 864;

/*  socket.on("buttonArcade : down", function(button){
    divMouseDownTimeout = setTimeout(function() {
      isMouseHeld = true;
      generateTotem();
      console.log(isMouseHeld);
    }, 1000);
  });

  function generateTotem(e){
    if (isMouseHeld) {
      isMouseHeld = false
      console.log("clique");
      var div = document.createElement('div');

      div.style.backgroundImage = "url('content/totem/totem_1.png')";
      div.style.indexZ = "0"
      div.style.backgroundSize = "cover";
      div.style.position = "absolute";
        /*div.style.left = document.body.scrollLeft;
        div.style.top = document.body.scrollTop;
        div.style.left = pageXOffset + sizeScreenX / 2;
        div.style.top = pageYOffset + sizeScreenY / 2;
        div.style.height = "20px";
        div.style.width = "20px";

        document.body.appendChild(div);
      }
    };
    socket.on("buttonArcade : up", function(button){   
      if (divMouseDownTimeout) {
        clearTimeout(divMouseDownTimeout);
      }
    });*/
//
///////////////////////////////////////////////////////////////////////////////////

</script>

</main>
</body>
</html>